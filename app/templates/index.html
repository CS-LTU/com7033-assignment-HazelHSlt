<!--
AI declaration:
Github copilot was used for portions of the planning, research, feedback and editing of the software artefact. Mostly utilised for syntax, logic and error checking with ChatGPT and Claude Sonnet 4.5 used as the models.

This HTML page for the front page or home screen, using Jinja2 and py Flask templating, with Bootstrap 5 for styling and FontAwesome for icons.
-->
{% extends "base.html" %}
{% block title %}Home - Records Manager{% endblock %}
{% block content %}
<div class="row justify-content-center mt-5"> <!-- Home page title screen, (Anthropic, 2025) -->
    <!-- "div" is a container tag, and "class" is an attribute used to specify a CSS class for styling (calls the bootstrap and CSS from "base.html"), along with "style=". This makes up the majority how html and css works together in these forms. -->
    <div class="col-md-10">
        <div class="text-center mb-5">
            <i class="" style="font-size: 4rem; color: #e74c3c;"></i>
            <h1 class="display-4 mt-3">COM7033 Healthcare Records Manager</h1>
            <p class="lead text-muted">A secure dataset management app for stroke predictions using patient records.</p>
        </div>

        {% if not mongodb_connected %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <h5 class="alert-heading"><i class="fas fa-exclamation-triangle"></i> MongoDB no connection detected</h5>
            <p>The MongoDB database is not currently connected. Patient records functionality will be unavailable.</p>
            <hr>
            <p class="mb-0">
                <strong>If required please run MongoDB from the portable folder setup.</strong><br>
            </p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        <!-- The card that displays the application's functionality, (Anthropic, 2025). -->
        <div class="card"> 
            <div class="card-header bg-secondary">
                <i class="fas fa-info-circle"></i> Functionality:
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><i class=""></i> User login and registration, with a seperate database for site users and audit logs from the patient records. <br> Full CRUD actions on provided patient records .CSV file, with search functionality and encryption at rest for the patient records database, SQLite was used for the user side while mongoDB for the records.</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><i class=""></i>
                                Flask==3.0.0 <br>
                                Flask-SQLAlchemy==3.1.1 <br>
                                Flask-WTF==1.2.1 <br>
                                Flask-Login==0.6.3 <br>
                                Flask-Bcrypt==1.0.1 <br>
                                Flask-Talisman==1.1.0 <br>
                                Flask-Limiter==3.5.0 <br>
                                pymongo==4.6.1 <br>
                                bleach==6.1.0 <br>
                                email-validator==2.1.0 <br>
                                cryptography==41.0.7 <br>
                                python-dotenv==1.0.0 <br>
                                WTForms==3.1.1 <br>
                                # Testing dependencies <br>
                                pytest==7.4.3 <br>
                                pytest-cov==4.1.0 <br>
                                pytest-flask==1.3.0 <br>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- The card that displays the site's compliance information, (Anthropic, 2025). -->
        <div class="card"> 
            <div class="card-header bg-primary">
                <i class="fas fa-info-circle"></i> Compliance:
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12">
                        <ul class="list-unstyled">
                            <li><i class=""></i> Patients have the right under GDPR to have their information deleted when requested, have their sensitive medical data secure along with any identifiable data too. <br> Write something about the OWASP and NHS standards here, and maybe testing? idk.</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><i class=""></i></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- Displays the different user action buttons, (Anthropic, 2025). -->
        <div class="text-center mt-5 mb-4"> 
            {% if current_user.is_authenticated %}
                {% if current_user.is_admin is defined and current_user.is_admin %}
                    <a href="{{ url_for('crud.dashboard') }}" class="btn btn-primary btn-lg me-3">
                        <i class="fas fa-th-large"></i> Go to Admin Dashboard
                    </a>
                {% else %}
                    <a href="{{ url_for('crud.user_dashboard') }}" class="btn btn-primary btn-lg me-3">
                        <i class="fas fa-file-medical-alt"></i> View My Record
                    </a>
                {% endif %}
                <a href="{{ url_for('auth.userpage') }}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-user-cog"></i> Account Settings
                </a>
            {% else %}
                <a href="{{ url_for('auth.login') }}" class="btn btn-primary btn-lg me-3">
                    <i class="fas fa-sign-in-alt"></i> Login
                </a>
                <a href="{{ url_for('auth.register') }}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-user-plus"></i> Register
                </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

