<!--
AI declaration:
Github copilot was used for portions of the planning, research, feedback and editing of the software artefact. Mostly utilised for syntax, logic and error checking with ChatGPT and Claude Sonnet 4.5 used as the models.

This HTML page is for the base layout, using Jinja2 and py Flask templating, with Bootstrap 5 for styling and FontAwesome for icons. This contains the stylesheets, navigation, footer, and main content blocks.
-->
<!DOCTYPE html> <!-- (Anthropic, 2025) -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Records Manager">
    <title>{% block title %}Records Manager{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- The CSS stylesheet, handles the overall layout and design of the application, colour and formatting, (Anthropic, 2025). -->
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
        }
        
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #f8f9fa;
        }
        
        .navbar {
            background-color: var(--primary-color) !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .navbar-brand {
            font-weight: 600;
            color: white !important;
        }
        
        .nav-link {
            color: rgba(255,255,255,0.8) !important;
            transition: color 0.3s;
        }
        
        .nav-link:hover {
            color: white !important;
        }
        
        .content-wrapper {
            flex: 1;
            padding: 2rem 0;
        }
        
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .card-header {
            background-color: var(--primary-color);
            color: white;
            border-radius: 10px 10px 0 0 !important;
            padding: 1rem 1.5rem;
            font-weight: 600;
        }
        
        .btn-primary {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
            border-color: #2980b9;
        }
        
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: 1.5rem 0;
            margin-top: auto;
        }
        
        .alert {
            border-radius: 8px;
            border: none;
        }
        
        .table {
            background-color: white;
        }
        
        .badge {
            padding: 0.5em 0.8em;
        }
        
        /* Chart container for consistent sizing across the app */
        .chart-container {
            position: relative;
            margin-bottom: 20px;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head> 
<body>
    <!-- Navigation, (Anthropic, 2025). -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <i class="fas fa-heartbeat"></i> Patient Records Manager
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    {% if current_user.is_authenticated %}
                        {% if current_user.is_admin is defined and current_user.is_admin %}
                            <!-- Administrator Navigation. -->
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('crud.dashboard') }}">
                                    <i class="fas fa-th-large"></i> Dashboard
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('crud.create_patient') }}">
                                    <i class="fas fa-plus-circle"></i> New Record
                                </a>
                            </li>
                        {% else %}
                            <!-- User Navigation, (Anthropic, 2025). -->
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('crud.user_dashboard') }}">
                                    <i class="fas fa-file-medical-alt"></i> My Record
                                </a>
                            </li>
                        {% endif %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user-circle"></i> {{ current_user.username }}
                                {% if current_user.is_admin is defined and current_user.is_admin %}
                                    <span class="badge bg-danger">Admin</span>
                                {% endif %}
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="{{ url_for('auth.userpage') }}">
                                    <i class="fas fa-user-cog"></i> Account Settings
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="{{ url_for('auth.logout') }}">
                                    <i class="fas fa-sign-out-alt"></i> Logout
                                </a></li>
                            </ul>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('auth.login') }}">
                                <i class="fas fa-sign-in-alt"></i> Login
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('auth.register') }}">
                                <i class="fas fa-user-plus"></i> Register
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    <!-- Flash Messages, (Anthropic, 2025). -->
    <div class="container mt-3">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {% if category == 'success' %}
                            <i class="fas fa-check-circle"></i>
                        {% elif category == 'danger' %}
                            <i class="fas fa-exclamation-circle"></i>
                        {% elif category == 'warning' %}
                            <i class="fas fa-exclamation-triangle"></i>
                        {% else %}
                            <i class="fas fa-info-circle"></i>
                        {% endif %}
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>
    <!-- Main Content, (Anthropic, 2025). -->
    <div class="content-wrapper">
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </div>
    <!-- Footer, (Anthropic, 2025). -->
    <footer>
        <div class="container text-center">
            <p class="mb-0">
                <i class=""></i> 2414420@leedstrinity.ac.uk | 
                COM7033 Secure Software Development
                <i class=""></i> 
            </p>
            <small class="text-muted">Â© 2025 | Msc </small>
        </div>
    </footer>
    <!-- Bootstrap JS Bundle, (Anthropic, 2025). -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>

